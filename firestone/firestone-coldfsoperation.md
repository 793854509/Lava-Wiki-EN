# 加工和使用冷火石

## 冷火石机制的运行过程

\(1\)Alice使用buyfirestone命令给自己的地址购买火石，生成“购买火石的交易”，并广播。

\(2\)Alice使用signfirestone命令构造出后续“花费火石的交易”（后文的“加工冷火石”），不广播。

\(3\)Alice将冷火石发送给Bob。

\(4\)Bob使用importfirestone命令将冷火石转入自己的挖矿节点，使挖矿节点能够辨认和花费冷火石（后文的“装填冷火石”）。

\(5\)如果Bob成功出块，花费冷火石得到双倍挖矿奖励，冷火石抵押的资金自动返回Alice的地址；如果Bob没有在有效期内花费冷火石，Alice使用freefirestone命令释放火石抵押的资金返回自己的地址。

## 加工冷火石

Alice通过signfirestone命令将已购买的火石加工为冷火石。

\*功能说明：用户指定一枚已购买的火石，加工得到一枚冷火石。

\*参数1： Address，指已经购买了火石的地址，在此例中就是Alice自己的地址。必须保证钱包中有该地址的私钥，方可进行冷火石签名。

\*参数2：TXID，是指 “购买火石的交易”的TXID。

\*返回值：FSTX，是指构造完成“花费火石的交易”后的交易内容，以hex形式表现，也可以理解为就是冷火石的本体。

## 装填冷火石

Bob接受冷火石后，需要进行装填操作，使自己的挖矿节点可以辨认并花费这枚冷火石。

\*功能说明：将接收到的冷火石（以hex格式体现）输入挖矿节点，使得挖矿节点可以辨认并花费冷火石。

\*参数1：FSTX，冷火石的hex字节串。

\*返回值： true\|false：如果装填成功，返回true，否则返回false。

